<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Majavapaja</title>
  <link rel="shortcut icon" type="image/png" href="./assets/favico.png"/>
  <link rel="stylesheet" href="./styles.css">
  <link href="https://fonts.googleapis.com/css?family=Josefin+Sans|Roboto" rel="stylesheet">
</head>
<body>
  <div>
    <a class="logo" href="https://majavapaja.fi">
      <img src="./assets/logo.png" />
      <div class="title">Majavapaja</div>
      <div class="slogan">Exactly as programmed</div>
    </a>
  </div>
  <div class="content"></div>
  <script>
    const content = document.querySelector('.content')
    const pageLoads = parseInt(localStorage.getItem('pageLoads')) || 0
    const loadStamp = localStorage.getItem('loadStamp')
    const loadDate = loadStamp ? new Date(parseInt(loadStamp)) : null

    if (pageLoads === 0) {
      content.innerText = `
        Website coming soon!
        Refresh the page, it might already be here!
      `
      localStorage.setItem('pageLoads', 1)
    } else if (pageLoads === 1) {
      content.innerText = `
        Any minute now! I am sure of it!
      `
      localStorage.setItem('pageLoads', 2)
    } else if (pageLoads === 2) {
      content.innerText = `
        Hmm, it's not here yet..
        You could try refreshing again.
      `
      localStorage.setItem('pageLoads', 3)
    } else if (pageLoads === 3) {
      content.innerText = `
        Between you and me,
        I am starting to doubt that it will ever be released.
      `
      localStorage.setItem('pageLoads', 4)
    } else if (pageLoads === 4) {
      content.innerText = `
        Honestly what's the point in checking?
        Maybe come back tomorrow?
      `
      if (!loadDate) localStorage.setItem('loadStamp', Date.now())
    }

    if (loadDate && loadDate.setHours(0, 0, 0, 0) < new Date().setHours(0, 0, 0, 0)) {
      content.innerText = `
        What can I say.. It's still not here.
      `
    }
  </script>
</body>
</html>
